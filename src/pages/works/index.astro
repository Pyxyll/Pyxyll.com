---
import Main from "../../layouts/Main.astro";
const posts = await Astro.glob("../../pages/works/*.md");
---

<Main title="Pyxyll - Works">
  <div class="underConstruction">
    <h1>Works Under Construction</h1>
    <p>
      This page is currently under construction. Please check back later for
      updates.
    </p>
  </div>
  <section>
    <div class="container">
      <h2 class="emphasis">Works</h2>
    </div>
    <div class="container">
      <div class="blog-grid">
        {
          posts
            .slice(0)
            .reverse()
            .map((post) => (
              <a href={post.url} class="blog-post">
                <img
                  style="width: 125px"
                  src={post.frontmatter.image.url}
                  alt=""
                />
                <h3>{post.frontmatter.title}</h3>
                <p>{post.frontmatter.pubDate}</p>
              </a>
            ))
        }
      </div>
    </div>
  </section>
</Main>

<style>
  .underConstruction {
    width: 100%;
    height: 100vh;
    background-color: #191919e5;
    text-align: center;
    position: absolute;
    z-index: 100;
    color: white;
  }

  .underConstruction h1 {
    padding: 10% 0% 0% 0%;
    font-size: 5rem;
    margin-top: 20vh;
  }

  .underConstruction p {
    font-size: 2rem;
  }
  .blog-grid {
    margin: 5rem auto;
    display: flex;
    flex-wrap: wrap;
    gap: 1.5em; /* Gap between each service block */
    max-width: 110rem;
  }

  .blog-post {
    flex: 0 0 calc(33.33% - 20px);
    box-sizing: border-box;
    text-align: center;
    border: solid 2px var(--black);
    top: 0;
    left: 0;
    transition: all 0.15s linear 0s;
    position: relative;
    display: inline-block;
    padding: 15px 0px;
    background-color: white;
    color: black;
    box-shadow: 8px 8px 0 black;
    text-decoration: none;
    border-style: solid;
  }

  @media (max-width: 1300px) {
    .blog-post {
      flex: 0 0 calc(50% - 20px); /* Take half of the container width minus the gap */
    }
  }

  /* For smaller screens - 1x6 layout */
  @media (max-width: 900px) {
    .blog-post {
      flex: 0 0 100%; /* Take the full width of the container */
    }
  }

  .blog-post:hover {
    top: 3px;
    left: 3px;
    box-shadow: 3px 3px 0 black;
  }

  .blog-post:nth-child(1n):hover {
    background-color: rgb(151, 236, 255);
  }
  .blog-post:nth-child(2n):hover {
    background-color: rgb(255, 159, 236);
  }

  .blog-post:hover::after {
    top: 1px;
    left: 2px;
    width: 4px;
    height: 4px;
  }
  .blog-post:hover::before {
    bottom: 2px;
    right: 1px;
    width: 4px;
    height: 4px;
  }
  .blog-post::after {
    transition: all 0.15s linear 0s;
    content: "";
    position: absolute;
    top: 2px;
    left: 4px;
    width: 8px;
    height: 8px;
    background-color: black;
    transform: rotate(45deg);
    z-index: -1;
  }
  .blog-post::before {
    transition: all 0.15s linear 0s;
    content: "";
    position: absolute;
    bottom: -4px;
    right: 2px;
    width: 8px;
    height: 8px;
    background-color: black;
    transform: rotate(45deg);
    z-index: -1;
  }

  @media (max-width: 900px) {
    .blog-post-icon {
      width: 75px;
      height: 75px;
    }
  }
</style>
